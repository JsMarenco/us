---
// Third-party dependencies

// Current project dependencies

type Props = {
  trackSrc: string;
  title: string;
};

const { trackSrc, title } = Astro.props;
---

<div class="relative mt-4 overflow-hidden">
  {
    trackSrc.startsWith("https://open.spotify.com/embed/") ? (
      <iframe
        allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
        class="w-full rounded-lg"
        frameborder="0"
        height="152"
        loading="lazy"
        src={trackSrc}
        title={`Spotify track for ${title || "De Yo Pa Tu"}`}
        width="100%"
      />
    ) : (
      <div class="flex flex-col items-center gap-2 rounded-lg border border-gray-300 bg-gray-50 p-4 dark:border-gray-600 dark:bg-gray-800">
        <p class="text-center text-gray-700 dark:text-gray-300">
          Esta canci√≥n representa algo especial:
        </p>
        <a
          class="text-green-600 underline transition hover:text-green-800 dark:text-green-400 dark:hover:text-green-300"
          href={trackSrc}
          rel="noopener noreferrer"
          target="_blank"
        >
          Escuchar en Spotify
        </a>
      </div>
    )
  }
</div>
